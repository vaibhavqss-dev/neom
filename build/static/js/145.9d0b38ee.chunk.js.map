{"version":3,"file":"static/js/145.9d0b38ee.chunk.js","mappings":"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","sources":["assets/img/star-review-white.svg","assets/img/review-star.svg","components/base/reviewStar/reviewStar.tsx","components/addReview/addReview.tsx"],"sourcesContent":["var _g, _g2;\nconst _excluded = [\"title\", \"titleId\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nimport * as React from \"react\";\nfunction SvgStarReviewWhite(_ref, svgRef) {\n  let {\n      title,\n      titleId\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: \"256px\",\n    width: \"256px\",\n    id: \"Capa_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    viewBox: \"-1.44 -1.44 50.82 50.82\",\n    xmlSpace: \"preserve\",\n    fill: \"#000000\",\n    stroke: \"#000000\",\n    strokeWidth: 0.47939999999999994,\n    transform: \"matrix(1, 0, 0, 1, 0, 0)rotate(0)\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"SVGRepo_bgCarrier\",\n    strokeWidth: 0\n  })), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"SVGRepo_tracerCarrier\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"SVGRepo_iconCarrier\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#ffffff\"\n    },\n    d: \"M26.285,2.486l5.407,10.956c0.376,0.762,1.103,1.29,1.944,1.412l12.091,1.757 c2.118,0.308,2.963,2.91,1.431,4.403l-8.749,8.528c-0.608,0.593-0.886,1.448-0.742,2.285l2.065,12.042 c0.362,2.109-1.852,3.717-3.746,2.722l-10.814-5.685c-0.752-0.395-1.651-0.395-2.403,0l-10.814,5.685 c-1.894,0.996-4.108-0.613-3.746-2.722l2.065-12.042c0.144-0.837-0.134-1.692-0.742-2.285l-8.749-8.528 c-1.532-1.494-0.687-4.096,1.431-4.403l12.091-1.757c0.841-0.122,1.568-0.65,1.944-1.412l5.407-10.956 C22.602,0.567,25.338,0.567,26.285,2.486z\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgStarReviewWhite);\nexport default __webpack_public_path__ + \"static/media/star-review-white.b8eb73dafd8a9735055c072b85742f15.svg\";\nexport { ForwardRef as ReactComponent };","const _excluded = [\"title\", \"titleId\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nimport * as React from \"react\";\nfunction SvgReviewStar(_ref, svgRef) {\n  let {\n      title,\n      titleId\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: \"800px\",\n    width: \"800px\",\n    id: \"Capa_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    viewBox: \"0 0 47.94 47.94\",\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#ED8A19\"\n    },\n    d: \"M26.285,2.486l5.407,10.956c0.376,0.762,1.103,1.29,1.944,1.412l12.091,1.757 c2.118,0.308,2.963,2.91,1.431,4.403l-8.749,8.528c-0.608,0.593-0.886,1.448-0.742,2.285l2.065,12.042 c0.362,2.109-1.852,3.717-3.746,2.722l-10.814-5.685c-0.752-0.395-1.651-0.395-2.403,0l-10.814,5.685 c-1.894,0.996-4.108-0.613-3.746-2.722l2.065-12.042c0.144-0.837-0.134-1.692-0.742-2.285l-8.749-8.528 c-1.532-1.494-0.687-4.096,1.431-4.403l12.091-1.757c0.841-0.122,1.568-0.65,1.944-1.412l5.407-10.956 C22.602,0.567,25.338,0.567,26.285,2.486z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgReviewStar);\nexport default __webpack_public_path__ + \"static/media/review-star.daa0330fa0faf9acb38d467583505d44.svg\";\nexport { ForwardRef as ReactComponent };","import starReviewWhite from \"./../../../assets/img/star-review-white.svg\";\nimport starReviewYellow from \"./../../../assets/img/review-star.svg\";\n\n// handleStarChange\ntype ReviewStarProps = {\n  rate: number;\n  name: string;\n  handleStarChange: (key: string, value: number) => void;\n};\n\nconst ReviewStar: React.FC<ReviewStarProps> = ({\n  name,\n  rate,\n  handleStarChange,\n}) => {\n  return (\n    <div className=\"reviewStar\">\n      {Array(5)\n        .fill(5)\n        .map((_, i) => (\n          <img\n            onClick={() => handleStarChange(name, i + 1)}\n            key={i}\n            src={i + 1 <= rate ? starReviewYellow : starReviewWhite}\n            alt=\"star\"\n            className=\"reviewStar_star\"\n          />\n        ))}\n    </div>\n  );\n};\n\nexport default ReviewStar;\n","import ReviewStar from \"../base/reviewStar/reviewStar\";\nimport React, { useEffect, useState } from \"react\";\nimport { NavLink, useNavigate } from \"react-router-dom\";\nimport { post_data } from \"../../api/api\";\n\ntype AddReviewProps = {\n\n};\n\nconst AddReview: React.FC<AddReviewProps> = () => {\n  const navigate = useNavigate();\n  const [star, setStar] = React.useState({\n    qualityOfEvent: 0,\n    serviceAtEvent: 0,\n    facilitiesOfEvent: 0,\n    staffPoliteness: 0,\n    operatorOfEvent: 0,\n  });\n\n  const [feedback, setFeedback] = React.useState(\"\");\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [submitError, setSubmitError] = useState<string | null>(null);\n\n  // Check auth token on component mount\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      console.warn(\"No authentication token found. Redirecting to login.\");\n      navigate(\"/login\");\n    }\n  }, [navigate]);\n\n  function handleStarChange(key: string, value: number) {\n    setStar((prev) => ({ ...prev, [key]: value }));\n  }\n\n  function handleFeedbackChange(e: React.ChangeEvent<HTMLTextAreaElement>) {\n    setFeedback(e.target.value);\n  }\n\n  const queryParams = new URLSearchParams(window.location.search);\n  const eventId = queryParams.get(\"eventId\");\n  console.log(\"EventId from query parameters:\", eventId);\n\n  async function addReview() {\n    if (\n      star.qualityOfEvent === 0 ||\n      star.serviceAtEvent === 0 ||\n      star.facilitiesOfEvent === 0 ||\n      star.staffPoliteness === 0 ||\n      star.operatorOfEvent === 0 ||\n      feedback.trim() === \"\"\n    ) {\n      setSubmitError(\"Please fill all the fields\");\n      return;\n    }\n\n    try {\n      setIsSubmitting(true);\n      setSubmitError(null);\n\n      const token = localStorage.getItem(\"token\");\n      if (!token) {\n        setSubmitError(\"Please log in to submit a review\");\n        navigate(\"/login\");\n        return;\n      }\n\n      console.log(\n        \"Submitting review with token:\",\n        token.substring(0, 10) + \"...\"\n      );\n\n      const data= await post_data(\n        `/user/review`,\n        {\n            quality_of_event: star.qualityOfEvent,\n            service_of_event: star.serviceAtEvent,\n            facilites_of_event: star.facilitiesOfEvent,\n            staffPoliteness: star.staffPoliteness,\n            operator_of_event: star.operatorOfEvent,\n            comment: feedback,\n            event_id: eventId,\n        }\n      );\n      if (data.success) {\n        alert(\"Review added successfully\");\n        navigate(`/vib-o-meter?eventId=${eventId}`);\n      } else {\n        setSubmitError(data.message || \"Failed to add review\");\n      }\n    } catch (err) {\n      console.error(\"Error submitting review:\", err);\n      setSubmitError(\"An error occurred while submitting your review\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  }\n\n  function onSubmit() {\n    if (isSubmitting) return;\n    addReview();\n  }\n\n  return (\n    <div className=\"addReview\">\n      <div className=\"addReviewPg\">\n        <div className=\"addReviewPg_clsBtn\">\n          <NavLink to=\"/myfeedback\">\n            <button>X</button>\n          </NavLink>\n        </div>\n        <h1 className=\"addReviewPg_heading\">Add a review</h1>\n        <p className=\"addReviewPg_description\">\n          Hi {localStorage.getItem(\"fullname\")}, If you're here on this page, we\n          bet you enjoy this event fully. Would you mind to share your valuable\n          feedback review with us?\n        </p>\n\n        <div className=\"addReviewPg_star\">\n          <div className=\"addReviewPg_star_left\">\n            <div className=\"addReviewPg_star_left_qualityOfEvent\">\n              <p className=\"addReviewPg_star_left_quality_heading\">\n                Quality of Event\n              </p>\n              <div className=\"addReviewPg_star_left_quality_star\">\n                <ReviewStar\n                  name=\"qualityOfEvent\"\n                  rate={star.qualityOfEvent}\n                  handleStarChange={handleStarChange}\n                />\n              </div>\n            </div>\n            <div className=\"addReviewPg_star_left_facilitiesOfEvent\">\n              <p className=\"addReviewPg_star_left_quality_heading\">\n                Facilities of Event\n              </p>\n              <div className=\"addReviewPg_star_left_quality_star\">\n                <ReviewStar\n                  name=\"facilitiesOfEvent\"\n                  rate={star.facilitiesOfEvent}\n                  handleStarChange={handleStarChange}\n                />\n              </div>\n            </div>\n            <div className=\"addReviewPg_star_left_staffPoliteness\">\n              <p className=\"addReviewPg_star_left_quality_heading\">\n                Staff Politeness\n              </p>\n              <div className=\"addReviewPg_star_left_quality_star\">\n                <ReviewStar\n                  name=\"staffPoliteness\"\n                  rate={star.staffPoliteness}\n                  handleStarChange={handleStarChange}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"addReviewPg_star_right\">\n            <div className=\"addReviewPg_star_right_serviceAtEvent\">\n              <p className=\"addReviewPg_left_serviceAtEvent_heading\">\n                Services at Event\n              </p>\n              <div className=\"addReviewPg_left_serviceAtEvent_star\">\n                <ReviewStar\n                  name=\"serviceAtEvent\"\n                  rate={star.serviceAtEvent}\n                  handleStarChange={handleStarChange}\n                />\n              </div>\n            </div>\n            <div className=\"addReviewPg_star_right_operatorOfEvent\">\n              <p className=\"addReviewPg_left_serviceAtEvent_heading\">\n                Operator of Event\n              </p>\n              <div className=\"addReviewPg_left_serviceAtEvent_star\">\n                <ReviewStar\n                  name=\"operatorOfEvent\"\n                  rate={star.operatorOfEvent}\n                  handleStarChange={handleStarChange}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"addReviewPg_feedback\">\n          <textarea\n            required\n            onChange={(e) => handleFeedbackChange(e)}\n            className=\"addReviewPg_feedback_textArea\"\n            placeholder=\"Share your feeback and suggestions about this event\"\n          ></textarea>\n        </div>\n\n        {submitError && <div className=\"addReviewPg_error\">{submitError}</div>}\n\n        <button\n          onClick={onSubmit}\n          className=\"addReviewPg_submitBtn\"\n          disabled={isSubmitting}\n        >\n          {isSubmitting ? \"Submitting...\" : \"Submit\"}\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default AddReview;\n"],"names":["_ref","name","rate","handleStarChange","_jsx","className","children","Array","fill","map","_","i","onClick","src","starReviewYellow","starReviewWhite","alt","AddReview","navigate","useNavigate","star","setStar","React","qualityOfEvent","serviceAtEvent","facilitiesOfEvent","staffPoliteness","operatorOfEvent","feedback","setFeedback","isSubmitting","setIsSubmitting","useState","submitError","setSubmitError","key","value","prev","_objectSpread","useEffect","localStorage","getItem","console","warn","eventId","URLSearchParams","window","location","search","get","log","_jsxs","NavLink","to","ReviewStar","required","onChange","e","target","handleFeedbackChange","placeholder","async","trim","token","substring","data","post_data","quality_of_event","service_of_event","facilites_of_event","operator_of_event","comment","event_id","success","alert","concat","message","err","error","addReview","disabled"],"sourceRoot":""}