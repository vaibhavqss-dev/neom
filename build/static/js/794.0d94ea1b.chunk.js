"use strict";(self.webpackChunkneomcity_vaibhav=self.webpackChunkneomcity_vaibhav||[]).push([[794],{7868:(e,t,n)=>{n.d(t,{A:()=>i});n(5043);var s=n(6727),a=n(579);const i=e=>{let{index:t,eventId:n,imgURL:i,subtextDate:l,subtextName:c,name:o,timeRange:d,location:r,category:v,date:u,time:m,isLiked:h,handleLike:_,IsRank:x}=e;const p=(0,s.Zp)();return(0,a.jsx)("div",{className:"recommendationCards",children:(0,a.jsxs)("div",{className:"recommendationCards_card",children:[(0,a.jsx)("div",{onClick:()=>p("/event-details?eventId=".concat(n)),className:"recommendationCards_card_img_container",children:(0,a.jsx)("img",{src:i,alt:"Upcoming Events",className:"recommendationCards_card_img"})}),(0,a.jsxs)("div",{className:"recommendationCards_card_text",children:[(0,a.jsxs)("div",{className:"recommendationCards_card_text_subtext",children:[(0,a.jsx)("p",{className:"recommendationCards_card_text_subtext_name",children:c}),(0,a.jsx)("p",{className:"recommendationCards_card_text_subtext_date",children:l.split(":")[0]})]}),(0,a.jsx)("p",{className:"recommendationCards_card_text_name",children:o}),(0,a.jsxs)("p",{className:"recommendationCards_card_text_time",children:[d.split(":")[0]," AM ","-"," ",parseInt(d.split(":")[0][0])+3," AM"]})]}),(0,a.jsx)("div",{onClick:()=>{void 0!==n&&_&&_(n,o)},className:h?"recommendationCards_card_heart isLiked":"recommendationCards_card_heart"}),x&&(0,a.jsx)("div",{className:"recommendationCards_cardRank",children:t})]},t)})}},2482:(e,t,n)=>{n.d(t,{A:()=>a});n(5043);var s=n(579);const a=e=>{var t,n,a,i,l,c,o,d,r,v,u,m,h;let{Filter:_,setDistance:x}=e;return(0,s.jsxs)("div",{className:"selectDistance",children:[(0,s.jsx)("p",{className:"selectDistance_text",children:"How far are you willing to go?"}),(0,s.jsxs)("div",{className:"selectDistance_btns",children:[(0,s.jsxs)("div",{className:"selectDistance_btns_walking",children:[(0,s.jsx)("button",{onClick:()=>null===x||void 0===x?void 0:x({type:"walking",value:10},"distance"),value:"10",className:"walking"===(null===_||void 0===_||null===(t=_.distance)||void 0===t?void 0:t.type)&&10===(null===_||void 0===_||null===(n=_.distance)||void 0===n?void 0:n.value)?"selectDistance_btns_btn_active":"",children:"10 mins Walking"}),(0,s.jsx)("button",{onClick:()=>null===x||void 0===x?void 0:x({type:"walking",value:20},"distance"),value:"20",id:"bothSidebarinDistance",className:"walking"===(null===_||void 0===_||null===(a=_.distance)||void 0===a?void 0:a.type)&&20===(null===_||void 0===_||null===(i=_.distance)||void 0===i?void 0:i.value)?"selectDistance_btns_btn_active":"",children:"20 mins Walking"}),(0,s.jsx)("button",{onClick:()=>null===x||void 0===x?void 0:x({type:"walking",value:30},"distance"),value:"30",className:"walking"===(null===_||void 0===_||null===(l=_.distance)||void 0===l?void 0:l.type)&&30===(null===_||void 0===_||null===(c=_.distance)||void 0===c?void 0:c.value)?"selectDistance_btns_btn_active":"",children:"30 mins Walking"})]}),(0,s.jsxs)("div",{className:"selectDistance_btns_driving",children:[(0,s.jsx)("button",{onClick:()=>null===x||void 0===x?void 0:x({type:"driving",value:10},"distance"),value:"10",className:"driving"===(null===_||void 0===_||null===(o=_.distance)||void 0===o?void 0:o.type)&&10===(null===_||void 0===_||null===(d=_.distance)||void 0===d?void 0:d.value)?"selectDistance_btns_btn_active":"",children:"10 mins drive"}),(0,s.jsx)("button",{id:"bothSidebarinDistance",onClick:()=>null===x||void 0===x?void 0:x({type:"driving",value:20},"distance"),value:"20",className:"driving"===(null===_||void 0===_||null===(r=_.distance)||void 0===r?void 0:r.type)&&20===(null===_||void 0===_||null===(v=_.distance)||void 0===v?void 0:v.value)?"selectDistance_btns_btn_active":"",children:"20 mins drive"}),(0,s.jsx)("button",{onClick:()=>null===x||void 0===x?void 0:x({type:"driving",value:30},"distance"),value:"30",className:"driving"===(null===_||void 0===_||null===(u=_.distance)||void 0===u?void 0:u.type)&&30===(null===_||void 0===_||null===(m=_.distance)||void 0===m?void 0:m.value)?"selectDistance_btns_btn_active":"",children:"30 mins drive"})]}),(0,s.jsx)("div",{className:"selectDistance_btns_noLimits",children:(0,s.jsx)("button",{className:"noLimits"===(null===_||void 0===_||null===(h=_.distance)||void 0===h?void 0:h.type)?"selectDistance_btns_btn_active":"",onClick:()=>null===x||void 0===x?void 0:x({type:"noLimits",value:0},"distance"),children:"No limits"})})]})]})}},6951:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var s=n(5043);const a=n.p+"static/media/neom-underwater.133ed06cda13af1d5bae.jpg";var i=n(579);const l=e=>{let{name:t,eventName:n,messageType:s=0,eventtime:a}=e;const l=["You have just cancelled your ".concat(n," event. We have found a few \n      similar event for you against your today's cancelled event. And \n      one of them is just starting in an ").concat(null===a||void 0===a?void 0:a.split(":")[0]," hour and ").concat(null===a||void 0===a?void 0:a.split(":")[1]," minutes drive away."),"As you have just rescheduled your ".concat(n," event and your slot is free, \n      we have found alternate events for you. \n      And one of them is just an ").concat(null===a||void 0===a?void 0:a.split(":")[0]," hour and ").concat(null===a||void 0===a?void 0:a.split(":")[1]," minutes drive away."),"We have a few similar event for you against your today's cancelled event \n      ".concat(n," because of unfavorable conditions. \n      And one of them is just starting in an ").concat(null===a||void 0===a?void 0:a.split(":")[0]," hour and ").concat(null===a||void 0===a?void 0:a.split(":")[1]," minutes drive away.")];return(0,i.jsxs)("div",{className:"events_messageBox",children:[(0,i.jsxs)("p",{className:"events_messageBox_para",children:["Hey ",t,","]}),(0,i.jsx)("p",{className:"events_messageBox_subPara",children:l[s]})]})},c=e=>{let{value:t,maxValue:n,size:s=112,strokeWidth:a=5,color:l="white",backgroundColor:c="rgba(133, 130, 130, 0.5)",className:o="",children:d}=e;const r=s/2,v=r-a/2,u=2*v*Math.PI,m=u-t/n*u;return(0,i.jsxs)("div",{style:{position:"relative",width:s,height:s,display:"flex",justifyContent:"center",alignItems:"center"},className:o,children:[(0,i.jsxs)("svg",{height:s,width:s,style:{position:"absolute",transform:"rotate(-90deg)"},children:[(0,i.jsx)("circle",{stroke:c,fill:"transparent",strokeWidth:a,r:v,cx:r,cy:r}),(0,i.jsx)("circle",{stroke:l,fill:"transparent",strokeWidth:a,strokeDasharray:"".concat(u," ").concat(u),style:{strokeDashoffset:m},strokeLinecap:"round",r:v,cx:r,cy:r})]}),(0,i.jsx)("div",{style:{position:"relative",zIndex:1,textAlign:"center"},children:d})]})},o=e=>{let{timeLeft:t}=e;return(0,i.jsxs)("div",{className:"events_details_countdown",children:[(0,i.jsxs)(c,{value:t.days,maxValue:t.days>0?t.days:1,color:"#FD9A01",children:[(0,i.jsx)("div",{className:"events_details_countdown_circle_type",children:"DAYS"}),(0,i.jsx)("div",{className:"events_details_countdown_circle_value",children:t.days})]}),(0,i.jsxs)(c,{value:t.hours,maxValue:24,color:"#009AFF",children:[(0,i.jsx)("div",{className:"events_details_countdown_circle_type",children:"HOURS"}),(0,i.jsx)("div",{className:"events_details_countdown_circle_value",children:t.hours})]}),(0,i.jsxs)(c,{value:t.minutes,maxValue:60,color:"#FFDF46",children:[(0,i.jsx)("div",{className:"events_details_countdown_circle_type",children:"MINUTES"}),(0,i.jsx)("div",{className:"events_details_countdown_circle_value",children:t.minutes})]}),(0,i.jsxs)(c,{value:t.seconds,maxValue:60,color:"#FF385C",children:[(0,i.jsx)("div",{className:"events_details_countdown_circle_type",children:"SECONDS"}),(0,i.jsx)("div",{className:"events_details_countdown_circle_value",children:t.seconds})]})]})};var d=n(6727);const r=e=>{let{eventName:t,eventLocation:n,eventStartIn:s,timeLeft:a,imageUrl:l,redirectUrl:c="/"}=e;return(0,i.jsxs)("div",{className:"events_main",children:[(0,i.jsx)("div",{className:"events_img",children:(0,i.jsx)("img",{src:l,alt:t})}),(0,i.jsxs)("div",{className:"events_details",children:[(0,i.jsx)("p",{className:"events_details_title",children:t}),(0,i.jsx)("p",{className:"events_details_location",children:n}),(0,i.jsx)("p",{className:"events_details_time",children:s}),(0,i.jsx)(o,{timeLeft:a}),(0,i.jsx)("div",{className:"events_details_btn",children:(0,i.jsx)(d.k2,{to:c,children:(0,i.jsx)("button",{children:"Yes, I am in"})})})]})]})};var v=n(9379),u=n(2482),m=n(7868);const h=e=>{let{}=e;const[t,n]=(0,s.useState)([]),[a,l]=(0,s.useState)([]),[c,o]=(0,s.useState)(!1),[d,r]=(0,s.useState)(null);function h(e,t){n((n=>n.map((e=>e.id)).includes(e)?n.filter((t=>t.id!==e)):[...n,{id:e,name:t}]))}const[_,x]=(0,s.useState)({date:"",location:"",distance:{type:"",value:0},category:"",isDistanceApplied:!1,isCategoryApplied:!1});async function p(){try{o(!0),r(null);let e="http://localhost:3001/api/events";const t=[];_.category&&t.push("category=".concat(_.category)),_.location&&t.push("location=".concat(_.location)),_.date&&t.push("date=".concat(_.date)),t.length>0&&(e+="?".concat(t.join("&")));const n=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}});if(!n.ok)throw new Error("Network response was not ok");const s=await n.json();if(s.success&&Array.isArray(s.data)){let e=s.data;l(e)}else l([]),r("No events found or invalid response format")}catch(e){console.error("Error fetching events:",e),r("Failed to fetch events. Please try again later."),l([])}finally{o(!1)}}return(0,s.useEffect)((()=>{p()}),[]),(0,s.useEffect)((()=>{p()}),[_.category,_.location,_.date]),(0,i.jsxs)("div",{className:"events_similarRecommendation",children:[(0,i.jsx)(u.A,{Filter:_,setDistance:function(e,t){if("distance"===t&&"object"===typeof e)x((t=>(0,v.A)((0,v.A)({},t),{},{distance:e,isDistanceApplied:!0})));else if("category"===t)x((t=>(0,v.A)((0,v.A)({},t),{},{category:e,isCategoryApplied:!0})));else{const n=e.target.value;x((e=>(0,v.A)((0,v.A)({},e),{},{[t]:n})))}}}),(0,i.jsx)("div",{className:"events_similarRecommendation_card",children:c?(0,i.jsx)("span",{children:"Loading events..."}):d?(0,i.jsx)("span",{style:{color:"red"},children:d}):a.length?a.map((e=>(0,i.jsx)(m.A,{handleLike:h,isLiked:t.map((e=>e.id)).includes(e.event_id.toString()),eventId:e.event_id,index:e.event_id,imgURL:e.image_urls[0],subtextDate:e.date[0],subtextName:e.subtext||"",name:e.title,timeRange:e.time[0],location:e.location,category:e.category,date:e.date,time:e.time},e.event_id))):(0,i.jsx)("span",{style:{color:"red"},children:"No events found for your filters"})})]})},_=e=>{var t,n,c,o;let{name:v="Vaibhav",eventName:u="Under Water",eventLocation:m="Pune, Maharashtra",eventStartIn:_="1 hour 5 minutes"}=e;const[x]=(0,d.ok)(),p=parseInt(x.get("id")||"0")%3,g=x.get("eventname")||"Undefined",[j,y]=(0,s.useState)(!1),[f,N]=(0,s.useState)(null);(0,s.useEffect)((()=>{!async function(){try{const e=await fetch("http://localhost:3001/api/event/suggest_event/2",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}),t=await e.json();e.ok&&t.success?N(t.event):console.error("API response was not successful",t)}catch(e){console.error("Error fetching events",e)}finally{y(!0)}}()}),[]);const b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:18,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;const n=()=>{const n=new Date,s=new Date;s.setHours(e,t,0,0),s<n&&s.setDate(s.getDate()+1);const a=s.getTime()-n.getTime();return a>0?{days:Math.floor(a/864e5),hours:Math.floor(a/36e5%24),minutes:Math.floor(a/1e3/60%60),seconds:Math.floor(a/1e3%60)}:{days:0,hours:0,minutes:0,seconds:0}},[a,i]=(0,s.useState)(n());return(0,s.useEffect)((()=>{const e=setInterval((()=>{i(n())}),1e3);return()=>clearInterval(e)}),[]),a}(null!==f&&void 0!==f&&null!==(t=f.time)&&void 0!==t&&t[0]?parseInt((null===(n=f.time[0].split(":"))||void 0===n?void 0:n[0])||"0"):0,null!==f&&void 0!==f&&null!==(c=f.time)&&void 0!==c&&c[0]?parseInt((null===(o=f.time[0].split(":"))||void 0===o?void 0:o[1])||"0"):0);return(0,i.jsxs)("div",{className:"events",children:[j?f?(0,i.jsxs)("div",{children:[(0,i.jsx)(l,{name:localStorage.getItem("fullname")||"User",eventName:g,messageType:p,eventtime:f.time[0]}),(0,i.jsx)(r,{redirectUrl:"/event-details?eventId=".concat(f.event_id,"&eventName=").concat(encodeURIComponent(f.title)),eventName:f.title||"Event",eventLocation:f.location||"Location not available",eventStartIn:f.time&&f.time.length>0?f.time[0]:"Time not specified",timeLeft:b,imageUrl:f.image_urls&&f.image_urls.length>0?f.image_urls[0]:a})]}):(0,i.jsx)("div",{children:"No event data available"}):(0,i.jsx)("div",{children:"Loading event details..."}),(0,i.jsx)(h,{})]})};function x(){return(0,i.jsx)(_,{})}}}]);
//# sourceMappingURL=794.0d94ea1b.chunk.js.map